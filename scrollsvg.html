<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <style>
        .section1 {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .section2 {
            background: #000;
            padding: 50px 0;
            min-height: 100vh;
            color: #fff;
            text-align: center;
        }

        .section2 h2 {
            margin: 50px 0;
        }

        .section3 {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        svg {
            stroke-dasharray: 0;
            stroke-dashoffset: 0;
            transition: stroke-dashoffset 2s linear;
        }
    </style>
</head>
<body>

    <section class="section1">
        <h1>svg animation on scroll</h1>
    </section>
    <section class="section2">
        <h2>Animating svg using the stroke-dashoffset property on scroll.</h2>
        <div class="image" id="image">
            <svg width="1040" height="892" viewBox="0 0 2440 892" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path class='path' d="M313 522.001C305.833 540.334 272.8 573.501 198 559.501C104.5 542.001 1.49979 486.501 5.99979 415.501C10.4998 344.501 -5.99979 257 96 225C177.6 199.4 350.333 219 426.5 232C477 239.334 607.5 242.3 725.5 195.5C734.5 190.833 752.6 177.6 753 162C753.5 142.5 746.5 130.5 718.5 143.5C690.5 156.5 594 142.501 580.5 133.001C567 123.501 561.5 132.001 552 134.001C542.5 136.001 532.5 141 529 123.5C525.5 106 515 109 499.5 113C484 117 455.5 128.5 453.5 105C451.9 86.2002 425.833 93.1668 413 99.0002C401.5 104.5 376.7 115.001 369.5 113C361 112.667 343.1 109.8 339.5 101C335 90.0003 324 93.0003 301 97.0003C278 101 229.5 107.5 181.5 111.5C133.5 115.5 -19.5 152 46.5 217C99.3 269 266.167 285 343 286.5C478 282.834 755 273.7 783 266.5C788.833 264.834 801.4 260.7 805 257.5C809.5 253.5 821.5 237 844.5 248.5C867.5 260 880 268 900 251C920 234 927.5 240 947.5 250C967.5 260 1010 243.5 1028 235.5C1046 227.5 1063.5 220.5 1144 258C1155.33 263.167 1182.1 270 1198.5 256C1219 238.5 1235.5 233.5 1272.5 268.5C1309.5 303.5 1327.5 305.5 1348.5 287C1369.5 268.5 1384.5 277.5 1424 312C1429.67 317.167 1447.5 326.6 1473.5 323C1512.83 324 1595.9 324.9 1613.5 320.5C1631.1 316.1 1917.17 215.667 2058 166C2094.33 152.167 2175.8 113.4 2211 69.0003C2246.2 24.6003 2300 8.16701 2322.5 5.50034C2346.17 5.00034 2381.5 17.7003 2333.5 72.5003C2325.83 81.6669 2307.4 99.6 2295 98C2279.5 96 2278.5 103.5 2272 115C2265.5 126.5 2248 236.5 2178.5 225.5C2166 223.167 2133.3 231.4 2102.5 283C2064 347.5 2002 329 1978 335.5C1958.8 340.7 1919.33 352.667 1902 358C1891.83 360.333 1873 360.4 1879 342C1885 323.6 1915.5 340.333 1930 351C1959.17 373.333 2021 422.3 2035 439.5C2052.5 461 2095.5 462 2105 455.5C2114.5 449 2141.5 424 2205 463.5C2268.5 503 2248 496 2318 489.5C2388 483 2473 514 2416 553.5C2359 593 2326 587.5 2310 589.5C2294 591.5 2237 594.5 2083 645.5C1959.8 686.3 1805 579.5 1743 521C1738 513 1734.4 495.5 1760 489.5C1792 482 1970.5 642.5 1877 668.5C1783.5 694.5 1684.5 729 1600 626C1532.4 543.6 1457.5 561.667 1428.5 581C1391 604 1329 676.5 1381 782.5C1397.67 804.667 1449.1 847.7 1521.5 842.5C1537.5 842.667 1574.4 846.8 1594 862C1618.5 881 1627 871.5 1612 827C1609.5 821.167 1604.2 812 1603 822C1601.8 832 1639.5 865.167 1658.5 880.5C1663.83 885.333 1675.7 891.9 1680.5 879.5C1686.5 864 1690 828 1678.5 827C1669.3 826.2 1676 834 1680.5 838C1696.33 850.833 1731.5 876.7 1745.5 877.5C1763 878.5 1774.5 875 1781 856.5C1787.5 838 1779 826 1736 794C1693 762 1591.5 681 1510 687.5C1428.5 694 1436.5 665 1340 661.5C1243.5 658 1146 668 1004.5 707C891.3 738.2 639.667 678.333 528 644.5C465.5 634.5 346.5 594.4 370.5 514C400.5 413.5 477 392.5 545.5 408.5C614 424.5 675 491.5 617.5 604C571.5 694 538.667 716.5 528 716.5C520.333 715.833 508.2 713.1 521 707.5C537 700.5 596.5 696 633.5 713C670.5 730 826 797 745 801C664 805 651 778 667.5 781C684 784 803 836.5 739 836C675 835.5 616 830 633.5 820C651 810 715 860.5 662.5 857.5C610 854.5 395.5 844.5 393.5 771C391.5 697.5 392.5 692 420 692C447.5 692 432.5 726.5 398.5 737.5C364.5 748.5 360.5 757.5 342.5 757" stroke="#DADADA" stroke-width="10"/>
            </svg>
        </div>
        <h2></h2>
    </section>
    <section class="section3">
        <p>Scroll based svg animation</p>
    </section>

    <script>
        $(document).ready(function() {
            var path = $('.path')[0];
            var pathLength = path.getTotalLength();

            $(window).scroll(function() {
                var blockBounds = $('#image')[0].getBoundingClientRect();
                var screenHeight = $(window).height();
                var scroll1percent = (screenHeight - blockBounds.y - 300) / (blockBounds.height + screenHeight - 10) * 250;

                var currentLength = (pathLength * scroll1percent) / 100;
                $(path).css("stroke-dasharray", currentLength + " " + pathLength);
            });
        });
    </script>
</body>
</html>
